

Az amProject (JACC -al inditott) admin felületének áttekintése
==============================================================
(* al jelölve ahol a JACC al készítettbe bele kell nyúlni)

Minden táblához tartozik     model
                             viewer
                             controller
                             tabla
                             form
Ezen kivül van "component" szintű controller és model is.
Az egymásra mutató hivatkozó mezőknél fields/field.php is van.
A viewerekben "defaul" és "form" tmpl van.


Könyvtár szerkezet
------------------
  controller.php     comonent szintű controller,  
                     táblanév controllerek ezt bővitik
  com_amproject.php  komponent rooter
  assets
    fields.css
    image1.jpg
    image2.png
    ....
  models
    model.php        component szintű model, a táblanév modellek ezt bővitik
    táblanév1.php
    táblanév2.php
    .....
    forms
      táblanév1.xml
      táblanév2.xml
      ......
    fields
      fieldnév1.php
      fieldnév2.php
      .....
    rules
      üres  
  views
    táblanév1
      tmpl
        default.php
        form.php
      view.html.php
    táblanév2
      tmpl
        default.php
        form.php
      view.html.php
    ....  
  controllers
    táblanév1.php
    táblanév2.php
    ......
  tables
    táblanév1.php
    táblanév2.php
    ......
  
  
 call stack:
 -----------
 com_amproject.php
   controllers/táblanév.php (controller.php)
     models/táblanév.php (models/model.php)
       tables/táblanév.php
     views/táblanév/view.html.php
       tmpl/tmplnév.php
       forms/táblanév.xml
         fields/fieldnév.php  
         
    

Az egyes fájlokban lévő fontosabb metodusok
-------------------------------------------

tables/táblanév.php                                              
  rekord mezőinek felsorálása                                                  *
  load      beolvasás, inicializálás új felvitelhez (tulajdonos szürő kezelése)*
  check     ellenörzés tároláshoz                                              *
  canDelete ellenörzés törléshez                                            *(új)
  store     tárolás az ordering mező rendbetételével                           *
  delete    törlés a kapcsolodó alrekordok törlésével együtt                   *

models/model.php                                     
  publish   state mező állítása 1/0 -ra, esemény naplózással                   *
  delete    törlés esemény naplózással együtt                                  *
            (végrehajtja tables/táblanév.php -ben lévő canDelete 
            és delete metodusokat)
  store     tárolás esemény naplózással együtt (kezeli hogy nem                *
            mindig van state mező és kezeli a value változás naplózását is)
            (végrehajtja a tables/táblanév.php -ban lévő store eljárást)
models/táblanév.php                                              
  _buildContentWhere   where feltétel összeállítása alrekordoknál              *
            figyelembe véve a tulajdonos filtert is, frontend -en 
            figyelni a state != 0 értékre is!
            
models/forms/táblanév.xml                                        
  mezők leirása                                                                *
  javitandó: ordering mező ne legyen rejtett),
  sokszor a state mező is hiányzik innen                    
models/fields/hivatkozásMező.php                                               *
  select/options kialakitása (gyakran kell bele UNDEFINED elem is, 
  frontend-en figyelni a state == 0 értékre is              
  
   
views/táblanév/tmpl/default.php                                  
  böngésző képernyő, javitandó:                                                *
  - tulajdonos szürő feltétel kiirása  (link->tulajdonos modositása)
  - tuladonos szürő feltétel rejtett mezőbe kiirása
  - state oszlop kattintásos állíthatósága (ha csak 0/1 értéke lehet)
  - alrekordok böngészését lehetővé tevő gombok felvétele
  - törlés gombhoz biztonsági kérdés szöveg beillesztése
  - paginatorhoz extra url params a tulajdonos szürő feltételekkel
views/táblanév/tmpl/form.php                                                   *
  felvivő/módosító képernyő
  - tulajdosos szürő feltétel kezelése
  - jform[id] rejtett mező felvétele
  - tulajdonos szürő feltétel kiirása rejtett mezőbe
  - ordering és state mező felvétele                

controller.php                                                   
  itt van megoldva az assets/files.css betöltése                               *
controllers/táblanév.php                                         
  alrekordok böngészését lehetővé tevő taskok 
  orderup, orderdown, ordersave taskok (tulajdosos szürő feltétel kezelése)    *
  save task  (tulajdonos szürő feltétel kezeléssel) és
              model->store() = false esetén hibajelzés, form újra generálás    *
    
  
                                               