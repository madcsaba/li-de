 /**
 * package E-Commerce WD
 * author Web-Dorado
 * copyright (C) 2014 Web-Dorado. All rights reserved.
 * license GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 **/



////////////////////////////////////////////////////////////////////////////////////////
// Events                                                                             //
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
// Constants                                                                          //
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
// Variables                                                                          //
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
// Constructor                                                                        //
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
// Public Methods                                                                     //
////////////////////////////////////////////////////////////////////////////////////////
function selectCategory(id, name) {
    jQuery("form[name=adminForm] input#jform_params_category_id").val(id);
    jQuery("form[name=adminForm] input#category_name").val(name);

    SqueezeBox.close();
}


////////////////////////////////////////////////////////////////////////////////////////
// Getters & Setters                                                                  //
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
// Private Methods                                                                    //
////////////////////////////////////////////////////////////////////////////////////////
function openPopUp(url, width, height, options) {
    if (options == undefined) {
        options = {};
    }

    options.handler = "iframe";
    options.size = {
        x: width == undefined ? 800 : width,
        y: height == undefined ? 500 : height
    };

    SqueezeBox.open(url, options);
}


////////////////////////////////////////////////////////////////////////////////////////
// Listeners                                                                          //
////////////////////////////////////////////////////////////////////////////////////////
function onBtnSelectCategoryClick(event, obj, categoryId) {
    url = "index.php?option=com_ecommercewd&controller=categories&task=show_tree&callback=selectCategory&opened=true&selected_node_id=" + categoryId;
    openPopUp(url);
}
